#!/bin/bash

if [ -z "$UXVCOS_ROOT" ]; then
  source /opt/uxvcos/setup.bash
fi

export UXVCOS_CONFIGURATION=$UXVCOS_ROOT/quadro/conf
export UXVCOS_SCRIPT_PATH=$UXVCOS_ROOT/quadro/bin

if [ -z "$QUADRO_LAUNCH_SCRIPT" ]; then
  QUADRO_LAUNCH_SCRIPT=quadro.ops
fi

cd $UXVCOS_ROOT/quadro/bin
QUADRO_OPTIONS="$QUADRO_OPTIONS $@"
sudo setcap cap_net_raw,cap_sys_rawio+ep `rospack find uxvcos`/bin/uxvcos

$LAUNCH_PREFIX $UXVCOS_ROOT/core/bin/uxvcos --realm quadro --start $QUADRO_LAUNCH_SCRIPT --config $HOSTNAME $QUADRO_OPTIONS

if [ $? -ne 0 ]; then
  read -p "Press any key to continue... " -n1 -s
  echo
fi
